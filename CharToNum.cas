;4ケタの文字列を整数に変換
;GR2結果
;GR1カウンタ	
;GR3レジスタ
DICI	START
	IN	C1,CN
	LD	GR2,=0
	LD	GR6,=0
	LD	GR1,AREA
LOOP	LD	GR3,C1,GR1
	SUBA	GR3,CHAR0
	LD	GR4,GR1
	LD	GR6,GR3	
TEN	CPL	GR4,AREA
	JZE	ED
	LD	GR3,GR6
	ADDA	GR6,GR3
	SLA	GR3,3
	ADDA	GR6,GR3
	LAD	GR4,1,GR4
	JUMP	TEN		
ED	ADDA	GR2,GR6
	LAD	GR1,-1,GR1
	CPL	GR1,=-1		
	JNZ	LOOP
	RET
AREA	DC	3
CHAR0	DC	'0'
C1	DS	256
CN 	DS	4
	END